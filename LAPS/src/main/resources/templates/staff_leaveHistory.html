<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<title th:utext="#{admin.manageStaff.add.page.title}"></title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link rel="stylesheet" type="text/css" media="all"
	href="../../css/main.css" th:href="@{/css/main.css}" />
<link rel="stylesheet" type="text/css" media="all"
	href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

<script type="text/javascript" src="../../js/navbar.js"></script>
<script type="text/javascript" src="../../js/login.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/css/bootstrap.min.css">

<script type="text/javascript">
	function search() {
		var status = document.getElementById("status").value;
		var url = "/staff/history?status=" + status;
		alert(url)
		window.location.href = url;
	}
</script>

</head>
<body>
	<header th:insert="staff_homepage.html :: header"> </header>
	<h1 class="text-monospace" align="center">View PersonalApplication
		History</h1>
	<div class="content">
		<div class="container">
			<form class="form-inline">
				<div class="form-group">
					<label class="sr-only">status</label>
				</div>
				<div class="form-group">
					<select name="status" id="status" class="form-control">
						<option value="-1">--Please Select--</option>
						<option value="1">Annual Leave</option>
						<option value="2">Medical Leave</option>
						<option value="3">Compensation Leave</option>
					</select>
				</div>
			</form>
			<button type="button" class="btn btn-info" onclick="search();">Search</button>
		</div>
		<div>
			<h3 style="width: 400px;" th:if="${not #lists.isEmpty(lrecords)}">Listing</h3>

		<p th:if="${#lists.isEmpty(lrecords)}">No leave records found.</p>
		<table id="leavetable" class="list"
			th:if="${not #lists.isEmpty(lrecords)}">
			<thead>
				<tr>
					<th style="width: 20%">From</th>
					<th style="width: 22.5%">To</th>
					<th style="width: 22.5%">Category</th>
					<th style="width: 17.5%">Status</th>
					<th style="width: 17.5%">Action</th>
				</tr>
			</thead>
			<tbody id="leaveRecordTable">
				<tr th:each="leave:${lrecords}">
					<td data-input="dummy1" th:text="${leave.leaveStartDate}">From</td>
					<td data-input="leaveStartTime" th:text="${leave.leaveStartTime}">From Time</td>
					<td data-input="dummy2" th:text="${leave.leaveEndDate}">To</td>
					<td data-input="leaveEndTime" th:text="${leave.leaveEndTime}">To Time</td>
					<td data-input="leavetype"
						th:text="${leave.leaveType.displayValue}">Category</td>
					<td data-input="leavestatus"
						th:text="${leave.leaveStatus.displayValue}">Status</td>
					<td data-input="dummy3"><a
						th:href="@{/staff/history/details/}+${leave.leaveId}"
						th:utext="#{staff.leaveHistory.details.page.title}"></a></td>
				</tr>
			</tbody>
		</table>
			<nav aria-label="Page navigation" class="pagination-navi">
				<ul class="pagination" th:utext="${pageCode}"></ul>
			</nav>
		</div>
	</div>
</body>
</html>