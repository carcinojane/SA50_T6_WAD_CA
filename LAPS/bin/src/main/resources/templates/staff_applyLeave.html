<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<title th:utext="#{staff.applyLeave.title}"></title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link rel="stylesheet" type="text/css" media="all"
	href="../../css/main.css" th:href="@{/css/main.css}" />
<link rel="stylesheet" type="text/css" media="all"
	href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script type="text/javascript" src="../../js/navbar.js"></script>
<script type="text/javascript" src="../../js/login.js"></script>
<script type="text/javascript" src="../../js/search.js"></script>
</head>
<body>
	<header th:insert="staff_homepage.html :: header"> </header>
	<div class="content">
		<h2 th:utext="#{staff.applyLeave.title}"></h2>
		<h3 th:if="${not #lists.isEmpty(lrecords)}">Search</h3>
		<form th:action="@{/staff/search}" method="post">
		<input id="userInput" type="text" placeholder="Search..">
			<fieldset>
				Category<select id="LType" name="LType">
					<option
						th:each="LTypeOpt : ${T(SA50.T6.WadCA.LAPS.model.LType).values()}"
						th:value="${LTypeOpt}" th:text="${LTypeOpt.displayValue}"></option>
						
				</select>
			</fieldset>
			<fieldset>
				Status<select name="status">
					<option
						th:each="status : ${T(SA50.T6.WadCA.LAPS.model.LeaveStatus).values()}"
						th:value="${status}" th:text="${status.displayValue}"></option>
						
				</select>
			</fieldset>
			
				<button type="submit">Search</button>
			
		</form>


		<h3 th:if="${not #lists.isEmpty(lrecords)}">Listing</h3>

		<table class="list">
			<thead>
				<tr>
					<th style="width: 20%">From</th>
					<th style="width: 22.5%">To</th>
					<th style="width: 22.5%">Category</th>
					<th style="width: 17.5%">Status</th>
					<th style="width: 17.5%">Action</th>
				</tr>
			</thead>

			<tbody id="leaveRecordTable">
				<tr th:if="${#lists.isEmpty(lrecords)}">
					<td colspan="5">No leave records found.</td>
				</tr>
				<tr th:if="${not #lists.isEmpty(lrecords)}"
					th:each="leave:${lrecords}">
					<td th:text="${leave.leaveStartDate}">From</td>
					<td th:text="${leave.leaveEndDate}">To</td>
					<td th:text="${leave.leaveTypeDisplay}">Category</td>
					<td th:text="${leave.leaveStatus.displayValue}">Status</td>
					<td><a th:href="@{/staff/history/details/}+${leave.leaveId}" th:utext="#{staff.leaveHistory.details.page.title}"></a></td>
		</table>
		<p>
			<a href="staff_applyLeave_add.html" th:href="@{/staff/apply/add}"><button>Add</button></a>
		</p>
	</div>


</body>
</html>